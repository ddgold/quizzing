scalar Date

type FieldError {
	message: String!
	field: String!
}

# ----
# User
# ----
type User {
	id: String!
	nickname: String!
	email: String!
}

type AuthResult {
	accessToken: String
	user: User
	errors: [FieldError!]
}

# -----
# Build
# -----
type Clue {
	answer: String!
	question: String!
}

input ClueInput {
	answer: String!
	question: String!
}

type Category {
	id: String!
	name: String!
	description: String!
	clues: [Clue]!
	creator: User!
	created: Date!
	updated: Date!
}

type CategoryResult {
	result: Category
	errors: [FieldError!]
}

type Board {
	id: String!
	name: String!
	description: String!
	categories: [Category]!
	creator: User!
	created: Date!
	updated: Date!
}

type BoardResult {
	result: Board
	errors: [FieldError!]
}

type QueryResult {
	result: Board
	canEdit: Boolean
}

# -------
# Queries
# -------
type Query {
	# User
	currentUser: User
	userByEmail(email: String!): User

	# Build
	boards(showAll: Boolean!): [Board!]
	boardById(id: String!): QueryResult
	categories(showAll: Boolean!): [Category!]
	categoryById(id: String!): Category
}

# ---------
# Mutations
# ---------
type Mutation {
	# User
	login(email: String!, password: String!): AuthResult!
	logout: Boolean
	register(nickname: String!, email: String!, password: String!): AuthResult!

	# Build
	createBoard(name: String!): BoardResult!
	updateBoard(id: String!, name: String!, description: String!, categoryIds: [String!]!): BoardResult!
	createCategory(name: String!): CategoryResult!
	updateCategory(id: String!, name: String!, description: String!, clues: [ClueInput!]!): CategoryResult!
}
